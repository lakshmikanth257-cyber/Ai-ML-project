# Comprehensive example configuration for Asya Gateway
# This demonstrates all available features

# Global defaults (applied to all tools unless overridden)
defaults:
  progress: false
  timeout: 300 # 5 minutes

# Named route templates for reusability
routes:
  ml-pipeline: [preprocessor, model-inference, postprocessor]
  standard-pipeline: [ingress, processor, egress]
  image-workflow: [image-generator, scorer, ranker]

# Tool definitions
tools:
# Simple single-actor tool
- name: echo
  description: Echo back the input message
  parameters:
    message:
      type: string
      description: Text to echo
      required: true
  route: [echo-actor]

# Multi-actor pipeline with explicit route
- name: process_document
  description: Process a document through multiple stages
  parameters:
    document:
      type: string
      description: Document content to process
      required: true
    format:
      type: string
      description: Document format
      options: [pdf, txt, md, docx]
      default: txt
  route: [document-parser, content-analyzer, summarizer]
  progress: true
  timeout: 600 # 10 minutes
  metadata:
    category: document-processing
    team: nlp

# Tool using route template
- name: ml_inference
  description: Run ML inference on input data
  parameters:
    input_data:
      type: string
      description: Input data for inference
      required: true
    model_name:
      type: string
      description: Name of the model to use
      options: [fast, accurate, balanced]
      default: balanced
  route: ml-pipeline # References template above
  progress: true
  timeout: 300
  metadata:
    category: ml
    gpu_required: "true"

# Tool with array parameter
- name: batch_translate
  description: Translate multiple texts
  parameters:
    texts:
      type: array
      description: Array of texts to translate
      required: true
      items:
        type: string
    target_lang:
      type: string
      description: Target language code
      options: [en, es, fr, de, ja, zh]
      default: en
  route: [batch-translator]
  progress: true
  timeout: 120

# Complex tool with multiple parameter types
- name: image_generation
  description: Generate and rank images based on description
  parameters:
    description:
      type: string
      description: Description of images to generate
      required: true
    count:
      type: number
      description: Number of images to generate
      default: 5
    enhance:
      type: boolean
      description: Whether to apply enhancement
      default: false
    style:
      type: string
      description: Image style
      options: [realistic, artistic, anime, photo]
      default: realistic
  route: image-workflow # References template
  progress: true
  timeout: 900 # 15 minutes
  metadata:
    category: image-generation
    gpu_required: "true"
    priority: high

# Tool with number parameter
- name: data_aggregation
  description: Aggregate data over a time window
  parameters:
    query:
      type: string
      description: Aggregation query
      required: true
    window_minutes:
      type: number
      description: Time window in minutes
      default: 60
    max_results:
      type: number
      description: Maximum number of results
      default: 100
  route: [data-aggregator]
  timeout: 180

# Simple tool with custom timeout
- name: quick_task
  description: Execute a quick task
  parameters:
    task_id:
      type: string
      required: true
  route: [quick-executor]
  timeout: 30 # 30 seconds

# Tool with no progress reporting
- name: background_job
  description: Run a background job without progress updates
  parameters:
    job_config:
      type: string
      description: Job configuration JSON
      required: true
  route: [background-processor]
  progress: false
  timeout: 1800 # 30 minutes
  metadata:
    priority: low
