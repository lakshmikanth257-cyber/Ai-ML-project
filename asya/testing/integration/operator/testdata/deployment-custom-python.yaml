apiVersion: asya.sh/v1alpha1
kind: AsyncActor
metadata:
  name: test-custom-python
  namespace: test-system
spec:
  transport: rabbitmq
  scaling:
    enabled: false # Disabled for tests (envtest doesn't have KEDA CRDs)
  workload:
    kind: Deployment
    pythonExecutable: /usr/local/bin/python3.13 # overload default 'python3'
    template:
      spec:
        containers:
        - name: asya-runtime
          image: python:3.13-slim
          env:
          - name: ASYA_HANDLER
            value: mymodule.process
